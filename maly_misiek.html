<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Player Intro — Polacy Rodacy (CR style)</title>
<style>
:root{
  --accent: rgb(130,0,0); /* Twój kolor */
  --bg: #000;
  --text: #fff;
  --wall-size: 4.2rem;
  --wall-gap: 3rem;
  /* TIMING (ms) - łatwo zmieniasz w JS, tu są domyślne wizualne dopasowania) */
}

/* reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Noto Sans JP", sans-serif;background:var(--bg);color:var(--text);overflow:hidden}

/* wrapper - cały intro zajmuje ekran */
.intro-wrap{position:fixed;inset:0;z-index:99999;display:block;}

/* === STAGE 1: WALL OF NAMES (full screen) === */
.stage {position:absolute;inset:0;display:flex;justify-content:center;align-items:center;overflow:hidden}
.stage.stage1{background: #000;}

/* wall container - duża szerokość żeby dać „morze tekstu” */
.wall {
  width: 220%;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap: var(--wall-gap);
  transform-origin:center;
  will-change:transform,opacity;
  opacity:0;
}

/* pojedynczy nick */
.wall .nick{
  color: rgba(255,255,255,0.08);
  font-weight:900;
  font-size:var(--wall-size);
  letter-spacing:0.08em;
  text-transform:uppercase;
  padding:0.2rem 0.6rem;
  white-space:nowrap;
}

/* stage1 animation: fast pop-in then scale/scroll up little */
.wall.enter {
  animation: wallIn 520ms cubic-bezier(.22,1,.36,1) forwards;
}
@keyframes wallIn {
  0% { opacity:0; transform:translateY(120px) scale(1.35); filter:blur(8px); }
  60% { opacity:1; transform:translateY(0) scale(1.05); filter:blur(3px); }
  100% { opacity:1; transform:translateY(-10px) scale(1); filter:blur(0); }
}
.wall.out {
  animation: wallOut 360ms ease-in forwards;
}
@keyframes wallOut {
  0% { opacity:1; transform:scale(1); filter:blur(0); }
  100% { opacity:0; transform:scale(1.4); filter:blur(12px); }
}

/* small jitter to mimic motion (optional) */
.wall .nick:nth-child(odd){transform:translateY(2px)}

/* === STAGE 2: HARD FLASH CUT === */
.stage.stage2{pointer-events:none;display:flex;align-items:center;justify-content:center}
.flash {
  position:absolute;inset:0;background:#fff;opacity:0;mix-blend-mode:screen;will-change:opacity,transform;
}

/* flash sweep (diagonal stripe) */
.sweep {
  position:absolute;top:0;left:-60%;
  width:60%;height:100%;
  transform:skewX(-20deg);
  background:linear-gradient(115deg,transparent 0%,rgba(255,255,255,0.95) 50%,transparent 100%);
  opacity:0;will-change:left,opacity;
}

/* === STAGE 3: EPIC REVEAL === */
.stage.stage3{background:transparent;display:block}

/* cinematic bg (can be gradient / video) */
.final-bg {
  position: absolute; inset:0;
  background: radial-gradient(circle at 30% 40%, rgba(130,0,0,0.15), rgba(0,0,0,0.8) 50%), linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.6));
  backdrop-filter: blur(6px);
  opacity:0; transform:scale(1.04);
  will-change:opacity,transform,filter;
}

/* avatar */
.final-avatar{
  position:absolute;
  right:4%;
  bottom:3%;
  width:42vw; max-width:520px; min-width:200px;
  transform:translateX(120px) scale(1.12);
  opacity:0;
  will-change:transform,opacity,filter;
  filter:brightness(0.65) saturate(0.9);
  border-radius:10px;
  box-shadow: 0 30px 80px rgba(0,0,0,0.7), 0 8px 30px rgba(0,0,0,0.5);
}

/* big name left side */
.final-name{
  position:absolute;
  left:5%;
  top:50%;
  transform:translateY(-50%) translateX(-30px);
  font-size: clamp(3.2rem, 8vw, 6.2rem);
  font-weight:900;
  color:var(--accent);
  opacity:0;
  letter-spacing:0.35em;
  will-change:transform,opacity,letter-spacing;
  text-transform:uppercase;
  text-shadow: 0 8px 40px rgba(0,0,0,0.6);
}

/* small subline (role) */
.final-role{
  position:absolute;
  left:5%;
  top: calc(50% + 7.6rem);
  transform: translateY(0);
  font-size: clamp(0.9rem, 1.6vw, 1.3rem);
  color: rgba(255,255,255,0.85);
  opacity:0;
}

/* reveal classes */
.final-bg.revealed{ animation: bgReveal 800ms cubic-bezier(.22,1,.36,1) forwards; }
@keyframes bgReveal { from {opacity:0; transform:scale(1.04) } to {opacity:1; transform:scale(1)} }

.final-avatar.revealed{ animation: avatarReveal 900ms cubic-bezier(.22,1,.36,1) forwards; }
@keyframes avatarReveal { 0%{opacity:0; transform:translateX(120px) scale(1.12) filter:brightness(0.3) } 60%{opacity:1; transform:translateX(-18px) scale(1.04) filter:brightness(1.05)} 100%{opacity:1; transform:translateX(0) scale(1)} }

.final-name.revealed{ animation: nameReveal 820ms cubic-bezier(.22,1,.36,1) forwards; }
@keyframes nameReveal {
  0%{opacity:0; transform:translateY(-50%) translateX(-30px); letter-spacing:0.55em}
  60%{opacity:1; transform:translateY(-50%) translateX(6px); letter-spacing:0.09em}
  100%{opacity:1; transform:translateY(-50%) translateX(0); letter-spacing:0.05em}
}
.final-role.revealed{ animation: roleReveal 600ms ease 300ms forwards; }

/* hide overflow while animating so things don't scroll the page */
html.animating, body.animating { overflow: hidden; height:100% }

/* responsive tweaks */
@media (max-width:900px){
  .wall .nick{font-size:2.8rem}
  .final-avatar{width:60vw}
  .final-name{font-size:clamp(2.2rem,12vw,4rem)}
  .final-role{top: calc(50% + 5.6rem)}
}
@media (max-width:480px){
  .wall .nick{font-size:2rem;letter-spacing:0.06em}
  .final-avatar{width:78vw; right:2%}
  .final-name{left:6%; font-size:2.6rem}
}
</style>
</head>
<body>

<!-- INTRO WRAPPER -->
<div class="intro-wrap" id="introWrap">

  <!-- STAGE 1: wall of names -->
  <div class="stage stage1" id="stage1">
    <div class="wall" id="wall">
      <!-- powtarzaj nick ładnie, można wkleić dużo spanów -->
      <span class="nick">maly_misiek</span>
      <span class="nick">PR | maly_misiek</span>
      <span class="nick">Lamoref</span>
      <span class="nick">Doughnut man</span>
      <span class="nick">Igmen</span>
      <span class="nick">Kevin</span>
      <span class="nick">Botzoid</span>
      <span class="nick">maly_misiek</span>
      <span class="nick">PR | maly_misiek</span>
      <span class="nick">Lamoref</span>
      <span class="nick">Doughnut man</span>
      <span class="nick">Igmen</span>
      <span class="nick">Kevin</span>
      <span class="nick">Botzoid</span>
      <!-- ... skopiuj/wklej ile trzeba, im więcej, tym gęściej wygląda -->
    </div>
  </div>

  <!-- STAGE 2: flash / hard cut -->
  <div class="stage stage2" id="stage2">
    <div class="flash" id="flash"></div>
    <div class="sweep" id="sweep"></div>
  </div>

  <!-- STAGE 3: reveal -->
  <div class="stage stage3" id="stage3">
    <div class="final-bg" id="finalBg"></div>
    <img class="final-avatar" id="finalAvatar" src="IMG_GRACZA.png" alt="avatar">
    <div class="final-name" id="finalName">MALY_MISIEK</div>
    <div class="final-role" id="finalRole">Brawl Stars - Player</div>
  </div>

</div>

<!-- MAIN PAGE CONTENT (hidden until intro finished) -->
<div id="mainContent" style="opacity:0">
  <!-- tu daj resztę strony / profil gracza -->
  <section style="padding:3rem;max-width:1100px;margin:0 auto;">
    <h2>Profil gracza</h2>
    <p>Tu będzie cały content po intro.</p>
  </section>
</div>

<script>
/*
  Sequencer parameters (łatwo zmieniasz)
  stage1Duration: pokaz wall-of-names (ms)
  gapBeforeStage2: pauza przed flash (ms)
  flashDuration: długość białego flasha (ms)
  stage3Delay: delay od flash do reveal (ms)
  revealDuration: (ms) - używane tylko do logiki usuwania intro
*/
const cfg = {
  stage1Duration: 900,   // wall appears then goes out (~900ms)
  gapBeforeStage2: 140,  // short gap after wall disappears
  flashDuration: 220,    // flash bright
  stage3Delay: 140,      // wait before final reveal
  totalIntro: 2200       // safety fallback to remove overlay
};

/* helper: add / remove classes with saftey */
function addClass(el, cls){ if(el) el.classList.add(cls) }
function remClass(el, cls){ if(el) el.classList.remove(cls) }

/* elements */
const htmlEl = document.documentElement;
const intro = document.getElementById('introWrap');
const wall = document.getElementById('wall');
const flash = document.getElementById('flash');
const sweep = document.getElementById('sweep');
const finalBg = document.getElementById('finalBg');
const finalAvatar = document.getElementById('finalAvatar');
const finalName = document.getElementById('finalName');
const finalRole = document.getElementById('finalRole');
const mainContent = document.getElementById('mainContent');

/* block scrolling during anim */
htmlEl.classList.add('animating');
document.body.classList.add('animating');

/* === start wall animation === */
setTimeout(()=> {
  addClass(wall,'enter');
}, 30); // tiny delay to ensure paint

/* wall disappears then trigger flash */
setTimeout(()=> {
  addClass(wall,'out');
}, cfg.stage1Duration);

/* stage2: flash in/out with sweep */
setTimeout(()=> {
  // flash on
  flash.style.transition = `opacity ${cfg.flashDuration}ms ease`;
  flash.style.opacity = '1';
  // sweep movement
  sweep.style.transition = `left ${cfg.flashDuration+80}ms cubic-bezier(.22,1,.36,1), opacity ${cfg.flashDuration}ms`;
  sweep.style.opacity = '1';
  sweep.style.left = '120%';
  // fade flash quickly
  setTimeout(()=> {
    flash.style.opacity = '0';
    sweep.style.opacity = '0';
  }, cfg.flashDuration * 0.9);
}, cfg.stage1Duration + cfg.gapBeforeStage2);

/* stage3: reveal final elements */
setTimeout(()=> {
  addClass(finalBg,'revealed');
  addClass(finalAvatar,'revealed');
  addClass(finalName,'revealed');
  addClass(finalRole,'revealed');

  // show main page content after reveal
  setTimeout(()=> {
    mainContent.style.transition = 'opacity 520ms ease';
    mainContent.style.opacity = '1';
  }, 600);
}, cfg.stage1Duration + cfg.gapBeforeStage2 + cfg.flashDuration + cfg.stage3Delay);

/* cleanup: remove intro wrapper (so nav etc. clickable) */
setTimeout(()=> {
  intro.remove(); // remove overlay completely
  htmlEl.classList.remove('animating');
  document.body.classList.remove('animating');
}, Math.min(cfg.totalIntro, cfg.stage1Duration + cfg.gapBeforeStage2 + cfg.flashDuration + cfg.stage3Delay + 1400));

/* OPTIONAL: play sound if you want (uncomment and provide file) */
/*
const s = new Audio('sound.mp3');
s.volume = 0.9;
s.play().catch(()=>{ console.log('sound blocked by browser — user interaction required'); });
*/

/* Helpers for quick live tuning in console:
   window.cfg.stage1Duration = 1200; window.cfg.flashDuration=200; etc.
   Then reload or call the sequencing manually.
*/
</script>
</body>
</html>
